<div class="container">
    <div class="card">
        <div class="card-header">
            <div class="row">
                <div class="col">
                    <h2>Detalhes do Pet</h2>
                </div>
                <div class="col text-end">
                    <a href="/pets" class="btn btn-secondary">Voltar</a>
                </div>
            </div>
        </div>
        <div class="card-body">
            <div class="row mb-3">
                <div class="col-md-3"><strong>Nome:</strong></div>
                <div class="col-md-9">{{pet.name}}</div>
            </div>
            <div class="row mb-3">
                <div class="col-md-3"><strong>Espécie:</strong></div>
                <div class="col-md-9">{{pet.species}}</div>
            </div>
            <div class="row mb-3">
                <div class="col-md-3"><strong>Raça:</strong></div>
                <div class="col-md-9">{{pet.breed}}</div>
            </div>
            <div class="row mb-3">
                <div class="col-md-3"><strong>Idade:</strong></div>
                <div class="col-md-9">{{pet.age}} ano(s)</div>
            </div>
            <div class="row mb-3">
                <div class="col-md-3"><strong>Descrição:</strong></div>
                <div class="col-md-9">{{pet.description}}</div>
            </div>
            <div class="row mb-3">
                <div class="col-md-3"><strong>Status:</strong></div>
                <div class="col-md-9">
                    <span class="badge {{#if (eq pet.status 'available')}}bg-success{{else if (eq pet.status 'pending')}}bg-warning{{else}}bg-secondary{{/if}}">
                        {{pet.status}}
                    </span>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-3"><strong>Abrigo:</strong></div>
                <div class="col-md-9">
                    {{pet.shelter.name}} ({{pet.shelter.email}})
                    <br>
                    <small class="text-muted">Telefone: {{pet.shelter.phone}}</small>
                </div>
            </div>
            {{#if pet.tags}}
            <div class="row mb-3">
                <div class="col-md-3"><strong>Tags:</strong></div>
                <div class="col-md-9">
                    {{#each pet.tags}}
                        <span class="badge me-2 mb-1" style="background-color: {{this.color}}; color: white;">
                            {{#if (eq this.category 'health')}}
                                <i class="fas fa-heart"></i>
                            {{else if (eq this.category 'behavior')}}
                                <i class="fas fa-smile"></i>
                            {{else if (eq this.category 'physical')}}
                                <i class="fas fa-paw"></i>
                            {{else if (eq this.category 'care')}}
                                <i class="fas fa-hand-holding-heart"></i>
                            {{else}}
                                <i class="fas fa-tag"></i>
                            {{/if}}
                            {{this.name}}
                        </span>
                    {{/each}}
                    <div class="mt-2">
                        <a href="/tags" class="btn btn-sm btn-outline-primary">
                            <i class="fas fa-tags"></i> Gerenciar Tags
                        </a>
                    </div>
                </div>
            </div>
            {{else}}
            <div class="row mb-3">
                <div class="col-md-3"><strong>Tags:</strong></div>
                <div class="col-md-9">
                    <span class="text-muted">Nenhuma tag associada</span>
                    <div class="mt-2">
                        <a href="/pets/{{pet.id}}/edit" class="btn btn-sm btn-outline-primary">
                            <i class="fas fa-plus"></i> Adicionar Tags
                        </a>
                    </div>
                </div>
            </div>
            {{/if}}
        </div>
        <div class="card-footer">
            <div class="d-flex gap-2">
                <a href="/pets/{{pet.id}}/edit" class="btn btn-primary">Editar</a>
                <form action="/pets/{{pet.id}}/delete" method="POST" class="d-inline">
                    <button type="submit" class="btn btn-danger" onclick="return confirm('Tem certeza?')">
                        Excluir
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
